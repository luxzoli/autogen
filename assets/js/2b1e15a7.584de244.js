"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7839],{74701:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>v,frontMatter:()=>s,metadata:()=>l,toc:()=>a});var t=r(74848),o=r(28453);const s={sidebar_label:"mdconvert",title:"browser_utils.mdconvert"},i=void 0,l={id:"reference/browser_utils/mdconvert",title:"browser_utils.mdconvert",description:"\\_CustomMarkdownify",source:"@site/docs/reference/browser_utils/mdconvert.md",sourceDirName:"reference/browser_utils",slug:"/reference/browser_utils/mdconvert",permalink:"/autogen/docs/reference/browser_utils/mdconvert",draft:!1,unlisted:!1,editUrl:"https://github.com/microsoft/autogen/edit/main/website/docs/reference/browser_utils/mdconvert.md",tags:[],version:"current",frontMatter:{sidebar_label:"mdconvert",title:"browser_utils.mdconvert"},sidebar:"referenceSideBar",previous:{title:"markdown_search",permalink:"/autogen/docs/reference/browser_utils/markdown_search"},next:{title:"playwright_markdown_browser",permalink:"/autogen/docs/reference/browser_utils/playwright_markdown_browser"}},c={},a=[{value:"_CustomMarkdownify",id:"_custommarkdownify",level:2},{value:"convert_hn",id:"convert_hn",level:3},{value:"convert_a",id:"convert_a",level:3},{value:"convert_img",id:"convert_img",level:3},{value:"DocumentConverterResult",id:"documentconverterresult",level:2},{value:"DocumentConverter",id:"documentconverter",level:2},{value:"PlainTextConverter",id:"plaintextconverter",level:2},{value:"HtmlConverter",id:"htmlconverter",level:2},{value:"WikipediaConverter",id:"wikipediaconverter",level:2},{value:"YouTubeConverter",id:"youtubeconverter",level:2},{value:"BingSerpConverter",id:"bingserpconverter",level:2},{value:"PdfConverter",id:"pdfconverter",level:2},{value:"DocxConverter",id:"docxconverter",level:2},{value:"XlsxConverter",id:"xlsxconverter",level:2},{value:"PptxConverter",id:"pptxconverter",level:2},{value:"MediaConverter",id:"mediaconverter",level:2},{value:"WavConverter",id:"wavconverter",level:2},{value:"Mp3Converter",id:"mp3converter",level:2},{value:"ImageConverter",id:"imageconverter",level:2},{value:"MarkdownConverter",id:"markdownconverter",level:2},{value:"convert",id:"convert",level:3},{value:"register_page_converter",id:"register_page_converter",level:3}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"_custommarkdownify",children:"_CustomMarkdownify"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class _CustomMarkdownify(markdownify.MarkdownConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"A custom version of markdownify's MarkdownConverter. Changes include:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Altering the default heading style to use '#', '##', etc."}),"\n",(0,t.jsx)(n.li,{children:"Removing javascript hyperlinks."}),"\n",(0,t.jsx)(n.li,{children:"Truncating images with large data:uri sources."}),"\n",(0,t.jsx)(n.li,{children:"Ensuring URIs are properly escaped, and do not conflict with Markdown syntax"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"convert_hn",children:"convert_hn"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def convert_hn(n, el, text, convert_as_inline)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Same as usual, but be sure to start with a new line"}),"\n",(0,t.jsx)(n.h3,{id:"convert_a",children:"convert_a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def convert_a(el, text, convert_as_inline)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Same as usual converter, but removes Javascript links and escapes URIs."}),"\n",(0,t.jsx)(n.h3,{id:"convert_img",children:"convert_img"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def convert_img(el, text, convert_as_inline)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Same as usual converter, but removes data URIs"}),"\n",(0,t.jsx)(n.h2,{id:"documentconverterresult",children:"DocumentConverterResult"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class DocumentConverterResult()\n"})}),"\n",(0,t.jsx)(n.p,{children:"The result of converting a document to text."}),"\n",(0,t.jsx)(n.h2,{id:"documentconverter",children:"DocumentConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class DocumentConverter()\n"})}),"\n",(0,t.jsx)(n.p,{children:"Abstract superclass of all DocumentConverters."}),"\n",(0,t.jsx)(n.h2,{id:"plaintextconverter",children:"PlainTextConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class PlainTextConverter(DocumentConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Anything with content type text/plain"}),"\n",(0,t.jsx)(n.h2,{id:"htmlconverter",children:"HtmlConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class HtmlConverter(DocumentConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Anything with content type text/html"}),"\n",(0,t.jsx)(n.h2,{id:"wikipediaconverter",children:"WikipediaConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class WikipediaConverter(DocumentConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Handle Wikipedia pages separately, focusing only on the main document content."}),"\n",(0,t.jsx)(n.h2,{id:"youtubeconverter",children:"YouTubeConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class YouTubeConverter(DocumentConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Handle YouTube specially, focusing on the video title, description, and transcript."}),"\n",(0,t.jsx)(n.h2,{id:"bingserpconverter",children:"BingSerpConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class BingSerpConverter(DocumentConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Handle Bing results pages (only the organic search results).\nNOTE: It is better to use the Bing API"}),"\n",(0,t.jsx)(n.h2,{id:"pdfconverter",children:"PdfConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class PdfConverter(DocumentConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Converts PDFs to Markdown. Most style information is ignored, so the results are essentially plain-text."}),"\n",(0,t.jsx)(n.h2,{id:"docxconverter",children:"DocxConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class DocxConverter(HtmlConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Converts DOCX files to Markdown. Style information (e.g.m headings) and tables are preserved where possible."}),"\n",(0,t.jsx)(n.h2,{id:"xlsxconverter",children:"XlsxConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class XlsxConverter(HtmlConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Converts XLSX files to Markdown, with each sheet presented as a separate Markdown table."}),"\n",(0,t.jsx)(n.h2,{id:"pptxconverter",children:"PptxConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class PptxConverter(HtmlConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Converts PPTX files to Markdown. Supports heading, tables and images with alt text."}),"\n",(0,t.jsx)(n.h2,{id:"mediaconverter",children:"MediaConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class MediaConverter(DocumentConverter)\n"})}),"\n",(0,t.jsx)(n.p,{children:"Abstract class for multi-modal media (e.g., images and audio)"}),"\n",(0,t.jsx)(n.h2,{id:"wavconverter",children:"WavConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class WavConverter(MediaConverter)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Converts WAV files to markdown via extraction of metadata (if ",(0,t.jsx)(n.code,{children:"exiftool"})," is installed), and speech transcription (if ",(0,t.jsx)(n.code,{children:"speech_recognition"})," is installed)."]}),"\n",(0,t.jsx)(n.h2,{id:"mp3converter",children:"Mp3Converter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class Mp3Converter(WavConverter)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Converts MP3 files to markdown via extraction of metadata (if ",(0,t.jsx)(n.code,{children:"exiftool"})," is installed), and speech transcription (if ",(0,t.jsx)(n.code,{children:"speech_recognition"})," AND ",(0,t.jsx)(n.code,{children:"pydub"})," are installed)."]}),"\n",(0,t.jsx)(n.h2,{id:"imageconverter",children:"ImageConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class ImageConverter(MediaConverter)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Converts images to markdown via extraction of metadata (if ",(0,t.jsx)(n.code,{children:"exiftool"})," is installed), OCR (if ",(0,t.jsx)(n.code,{children:"easyocr"})," is installed), and description via a multimodal LLM (if an mlm_client is configured)."]}),"\n",(0,t.jsx)(n.h2,{id:"markdownconverter",children:"MarkdownConverter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class MarkdownConverter()\n"})}),"\n",(0,t.jsx)(n.p,{children:"(In preview) An extremely simple text-based document reader, suitable for LLM use.\nThis reader will convert common file-types or webpages to Markdown."}),"\n",(0,t.jsx)(n.h3,{id:"convert",children:"convert"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def convert(source, **kwargs)\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Arguments"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"source: can be a string representing a path or url, or a requests.response object"}),"\n",(0,t.jsx)(n.li,{children:"extension: specifies the file extension to use when interpreting the file. If None, infer from source (path, uri, content-type, etc.)"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"register_page_converter",children:"register_page_converter"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def register_page_converter(converter: DocumentConverter) -> None\n"})}),"\n",(0,t.jsx)(n.p,{children:"Register a page text converter."})]})}function v(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var t=r(96540);const o={},s=t.createContext(o);function i(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);